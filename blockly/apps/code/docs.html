<script type="text/javascript" src="../../blockly_uncompressed.js"></script>
<script type="text/javascript" src="../../javascript_compressed.js"></script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

<style>
.blocklyScrollbarKnob{
  display:none;
}

.blocklyScrollbarBackground{
  display:none;
}

.outer{
  width: 300px;
  padding: 20px;
  text-align: center;
}

h3{
  padding: 0px;
  margin: 0px;
}


</style>

<div class="outer">
  <h3 id="title"></h3>

  <center>
    <div id="container">

    </div>
  </center>

  <div id="description">

  </div>
</div>

<xml id="test">
  <block id="1" x="0" y="0" type="new_drone" filter="url(#f1)"></block>
</xml>

<script>
$(document).ready(function(){
  Blockly.inject(document.body,
            {path: '../../', toolbox: document.getElementById('toolbox'), trashcan: false, collapse: false});

  Blockly.Xml.domToWorkspace(Blockly.mainWorkspace, document.getElementById("test"))

  var block = Blockly.mainWorkspace.getAllBlocks()[0]

  var width = block.svg_.width + 50
  var height = block.svg_.height + 50
  $("svg").attr("height", height)
  $("svg").attr("width", width)
  $("svg").css("border", "none")

  $("#container").css("height", height)
  $("#container").css("width", width)
  $("#container").css("border", "none")

  $("svg").appendTo("#container")

  var translation = "translate("+( 10)+","+(height/4 - 10)+")" //"translate("+(width - (block.svg_.width/2) - 10)+","+(height - block.svg_.height) +")"
  $(block.svg_.svgGroup_).attr("transform", translation)

  $("#description").html(block.description)
  $("#title").html(block.type)
})
</script>


