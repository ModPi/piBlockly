// Do not edit this file; automatically generated by build.py.
"use strict";


// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript=new Blockly.Generator("UnityScript");
function setup_unity_script(a){a.setup_unity_script=setup_unity_script;a.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");a.ORDER_ATOMIC=
0;a.ORDER_MEMBER=1;a.ORDER_NEW=1;a.ORDER_FUNCTION_CALL=2;a.ORDER_INCREMENT=3;a.ORDER_DECREMENT=3;a.ORDER_LOGICAL_NOT=4;a.ORDER_BITWISE_NOT=4;a.ORDER_UNARY_PLUS=4;a.ORDER_UNARY_NEGATION=4;a.ORDER_TYPEOF=4;a.ORDER_VOID=4;a.ORDER_DELETE=4;a.ORDER_MULTIPLICATION=5;a.ORDER_DIVISION=5;a.ORDER_MODULUS=5;a.ORDER_ADDITION=6;a.ORDER_SUBTRACTION=6;a.ORDER_BITWISE_SHIFT=7;a.ORDER_RELATIONAL=8;a.ORDER_IN=8;a.ORDER_INSTANCEOF=8;a.ORDER_EQUALITY=9;a.ORDER_BITWISE_AND=10;a.ORDER_BITWISE_XOR=11;a.ORDER_BITWISE_OR=
12;a.ORDER_LOGICAL_AND=13;a.ORDER_LOGICAL_OR=14;a.ORDER_CONDITIONAL=15;a.ORDER_ASSIGNMENT=16;a.ORDER_COMMA=17;a.ORDER_NONE=99;a.INFINITE_LOOP_TRAP=null;a.init=function(){a.definitions_=Object.create(null);a.functionNames_=Object.create(null);if(Blockly.Variables){a.variableDB_?a.variableDB_.reset():a.variableDB_=new Blockly.Names(a.RESERVED_WORDS_);for(var b=[],c=Blockly.Variables.allVariables(),d=Blockly.Variables.allLocalVariables(),e=0;e<c.length;e++)-1==d.indexOf(c[e])&&(b[e]="var "+a.variableDB_.getName(c[e],
Blockly.Variables.NAME_TYPE)+";");a.definitions_.variables=b.join("\n")}};a.finish=function(b){var c=[],d;for(d in a.definitions_)c.push(a.definitions_[d]);return c.join("\n\n")+"\n\n\n"+b};a.scrubNakedValue=function(a){return a+";\n"};a.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};a.scrub_=function(a,c){if(null===c)return"";var d="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(d+=this.prefixLines(e,
"// ")+"\n");for(var f=0;f<a.inputList.length;f++)a.inputList[f].type==Blockly.INPUT_VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=this.allNestedComments(e))&&(d+=this.prefixLines(e,"// "))}f=a.nextConnection&&a.nextConnection.targetBlock();f=this.blockToCode(f);return d+c+f}}setup_unity_script(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.colour={};
function setup_colors(a){a.setup_colors=setup_colors;a.colour_picker=function(b){return["'"+b.getFieldValue("COLOUR")+"'",a.ORDER_ATOMIC]};a.colour_random=function(b){return[a.provideFunction_("colour_random",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = parseint(Mathf.Floor(Random.value * Mathf.pow(2, 24)));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",a.ORDER_FUNCTION_CALL]};a.colour_rgb=function(b){var c=a.valueToCode(b,"RED",a.ORDER_COMMA)||0,d=a.valueToCode(b,
"GREEN",a.ORDER_COMMA)||0;b=a.valueToCode(b,"BLUE",a.ORDER_COMMA)||0;return[a.provideFunction_("colour_rgb",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Mathf.max(Mathf.min(Number(r), 100), 0) * 2.55;","  g = Mathf.max(Mathf.min(Number(g), 100), 0) * 2.55;","  b = Mathf.max(Mathf.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Mathf.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Mathf.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Mathf.round(b) || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+c+", "+d+", "+b+")",a.ORDER_FUNCTION_CALL]};a.colour_blend=function(b){var c=a.valueToCode(b,"COLOUR1",a.ORDER_COMMA)||"'#000000'",d=a.valueToCode(b,"COLOUR2",a.ORDER_COMMA)||"'#000000'";b=a.valueToCode(b,"RATIO",a.ORDER_COMMA)||.5;return[a.provideFunction_("colour_blend",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Mathf.max(Mathf.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);",
"  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Mathf.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Mathf.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Mathf.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+c+", "+d+", "+b+")",a.ORDER_FUNCTION_CALL]}}setup_colors(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.lists={};
function setup_lists(a){a.setup_lists=setup_lists;a.lists_create_empty=function(b){return["[]",a.ORDER_ATOMIC]};a.lists_create_with=function(b){for(var c=Array(b.itemCount_),d=0;d<b.itemCount_;d++)c[d]=a.valueToCode(b,"ADD"+d,a.ORDER_COMMA)||"null";c="["+c.join(", ")+"]";return[c,a.ORDER_ATOMIC]};a.lists_repeat=function(b){var c=a.provideFunction_("lists_repeat",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }",
"  return array;","}"]),d=a.valueToCode(b,"ITEM",a.ORDER_COMMA)||"null";b=a.valueToCode(b,"NUM",a.ORDER_COMMA)||"0";return[c+"("+d+", "+b+")",a.ORDER_FUNCTION_CALL]};a.lists_length=function(b){return[(a.valueToCode(b,"VALUE",a.ORDER_FUNCTION_CALL)||"[]")+".length",a.ORDER_MEMBER]};a.lists_isEmpty=function(b){return["!"+(a.valueToCode(b,"VALUE",a.ORDER_MEMBER)||"[]")+".length",a.ORDER_LOGICAL_NOT]};a.lists_indexOf=function(b){var c="FIRST"==b.getFieldValue("END")?"indexOf":"lastIndexOf",d=a.valueToCode(b,
"FIND",a.ORDER_NONE)||"''";return[(a.valueToCode(b,"VALUE",a.ORDER_MEMBER)||"[]")+"."+c+"("+d+") + 1",a.ORDER_MEMBER]};a.lists_getIndex=function(b){var c=b.getFieldValue("MODE")||"GET",d=b.getFieldValue("WHERE")||"FROM_START",e=a.valueToCode(b,"AT",a.ORDER_UNARY_NEGATION)||"1";b=a.valueToCode(b,"VALUE",a.ORDER_MEMBER)||"[]";if("FIRST"==d){if("GET"==c)return[b+"[0]",a.ORDER_MEMBER];if("GET_REMOVE"==c)return[b+".shift()",a.ORDER_MEMBER];if("REMOVE"==c)return b+".shift();\n"}else if("LAST"==d){if("GET"==
c)return[b+".slice(-1)[0]",a.ORDER_MEMBER];if("GET_REMOVE"==c)return[b+".pop()",a.ORDER_MEMBER];if("REMOVE"==c)return b+".pop();\n"}else if("FROM_START"==d){e=Blockly.isNumber(e)?parseFloat(e)-1:e+" - 1";if("GET"==c)return[b+"["+e+"]",a.ORDER_MEMBER];if("GET_REMOVE"==c)return[b+".splice("+e+", 1)[0]",a.ORDER_FUNCTION_CALL];if("REMOVE"==c)return b+".splice("+e+", 1);\n"}else if("FROM_END"==d){if("GET"==c)return[b+".slice(-"+e+")[0]",a.ORDER_FUNCTION_CALL];if("GET_REMOVE"==c||"REMOVE"==c){d=a.provideFunction_("lists_remove_from_end",
["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(list, x) {","  x = list.length - x;","  return list.splice(x, 1)[0];","}"]);e=d+"("+b+", "+e+")";if("GET_REMOVE"==c)return[e,a.ORDER_FUNCTION_CALL];if("REMOVE"==c)return e+";\n"}}else if("RANDOM"==d){d=a.provideFunction_("lists_get_random_item",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = parseInt(Mathf.Floor(Random.value * list.length));","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"]);e=d+"("+b+", "+("GET"!=c)+")";if("GET"==c||"GET_REMOVE"==c)return[e,a.ORDER_FUNCTION_CALL];if("REMOVE"==c)return e+";\n"}throw"Unhandled combination (lists_getIndex).";};a.lists_setIndex=function(b){function c(){if(d.match(/^\w+$/))return"";var b=a.variableDB_.getDistinctName("tmp_list",Blockly.Variables.NAME_TYPE),c="var "+b+" = "+d+";\n";d=b;return c}var d=a.valueToCode(b,"LIST",a.ORDER_MEMBER)||"[]",e=b.getFieldValue("MODE")||"GET",f=b.getFieldValue("WHERE")||"FROM_START",g=a.valueToCode(b,
"AT",a.ORDER_NONE)||"1";b=a.valueToCode(b,"TO",a.ORDER_ASSIGNMENT)||"null";if("FIRST"==f){if("SET"==e)return d+"[0] = "+b+";\n";if("INSERT"==e)return d+".unshift("+b+");\n"}else if("LAST"==f){if("SET"==e)return f=c(),f+(d+"["+d+".length - 1] = "+b+";\n");if("INSERT"==e)return d+".push("+b+");\n"}else if("FROM_START"==f){g=Blockly.isNumber(g)?parseFloat(g)-1:g+" - 1";if("SET"==e)return d+"["+g+"] = "+b+";\n";if("INSERT"==e)return d+".splice("+g+", 0, "+b+");\n"}else if("FROM_END"==f){f=c();if("SET"==
e)return f+=d+"["+d+".length - "+g+"] = "+b+";\n";if("INSERT"==e)return f+=d+".splice("+d+".length - "+g+", 0, "+b+");\n"}else if("RANDOM"==f){f=c();g=a.variableDB_.getDistinctName("tmp_x",Blockly.Variables.NAME_TYPE);f+="var "+g+" = parseInt(Mathf.Floor(Random.value * "+d+".length));\n";if("SET"==e)return f+=d+"["+g+"] = "+b+";\n";if("INSERT"==e)return f+=d+".splice("+g+", 0, "+b+");\n"}throw"Unhandled combination (lists_setIndex).";};a.lists_getSublist=function(b){var c=a.valueToCode(b,"LIST",a.ORDER_MEMBER)||
"[]",d=b.getFieldValue("WHERE1"),e=b.getFieldValue("WHERE2"),f=a.valueToCode(b,"AT1",a.ORDER_NONE)||"1";b=a.valueToCode(b,"AT2",a.ORDER_NONE)||"1";return["FIRST"==d&&"LAST"==e?c+".concat()":a.provideFunction_("lists_get_sublist",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(list, where1, at1, where2, at2) {","  function getAt(where, at) {","    if (where == 'FROM_START') {","      at--;","    } else if (where == 'FROM_END') {","      at = list.length - at;","    } else if (where == 'FIRST') {","      at = 0;",
"    } else if (where == 'LAST') {","      at = list.length - 1;","    } else {","      throw 'Unhandled option (lists_getSublist).';","    }","    return at;","  }","  at1 = getAt(where1, at1);","  at2 = getAt(where2, at2) + 1;","  return list.slice(at1, at2);","}"])+"("+c+", '"+d+"', "+f+", '"+e+"', "+b+")",a.ORDER_FUNCTION_CALL]}}setup_lists(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.logic={};
function setup_logic(a){a.setup_logic=setup_logic;a.controls_if=function(b){for(var c=0,d=a.valueToCode(b,"IF"+c,a.ORDER_NONE)||"false",e=a.statementToCode(b,"DO"+c),f="if ("+d+") {\n"+e+"}",c=1;c<=b.elseifCount_;c++)d=a.valueToCode(b,"IF"+c,a.ORDER_NONE)||"false",e=a.statementToCode(b,"DO"+c),f+=" else if ("+d+") {\n"+e+"}";b.elseCount_&&(e=a.statementToCode(b,"ELSE"),f+=" else {\n"+e+"}");return f+"\n"};a.logic_compare=function(b){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[b.getFieldValue("OP")],
d="=="==c||"!="==c?a.ORDER_EQUALITY:a.ORDER_RELATIONAL,e=a.valueToCode(b,"A",d)||"0";b=a.valueToCode(b,"B",d)||"0";return[e+" "+c+" "+b,d]};a.logic_operation=function(b){var c="AND"==b.getFieldValue("OP")?"&&":"||",d="&&"==c?a.ORDER_LOGICAL_AND:a.ORDER_LOGICAL_OR,e=a.valueToCode(b,"A",d);b=a.valueToCode(b,"B",d);if(e||b){var f="&&"==c?"true":"false";e||(e=f);b||(b=f)}else b=e="false";return[e+" "+c+" "+b,d]};a.logic_negate=function(b){var c=a.ORDER_LOGICAL_NOT;return["!"+(a.valueToCode(b,"BOOL",c)||
"true"),c]};a.logic_boolean=function(b){return["TRUE"==b.getFieldValue("BOOL")?"true":"false",a.ORDER_ATOMIC]};a.logic_null=function(b){return["null",a.ORDER_ATOMIC]};a.logic_ternary=function(b){var c=a.valueToCode(b,"IF",a.ORDER_CONDITIONAL)||"false",d=a.valueToCode(b,"THEN",a.ORDER_CONDITIONAL)||"null";b=a.valueToCode(b,"ELSE",a.ORDER_CONDITIONAL)||"null";return[c+" ? "+d+" : "+b,a.ORDER_CONDITIONAL]}}setup_logic(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.loops={};
function setup_loops(a){a.setup_loops=setup_loops;a.controls_repeat=function(b){var c=Number(b.getFieldValue("TIMES")),d=a.statementToCode(b,"DO");a.INFINITE_LOOP_TRAP&&(d=a.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b.id+"'")+d);b=a.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE);return"for (var "+b+" = 0; "+b+" < "+c+"; "+b+"++) {\n"+d+"}\n"};a.controls_repeat_ext=function(b){var c=a.valueToCode(b,"TIMES",a.ORDER_ASSIGNMENT)||"0",d=a.statementToCode(b,"DO");a.INFINITE_LOOP_TRAP&&(d=a.INFINITE_LOOP_TRAP.replace(/%1/g,
"'"+b.id+"'")+d);b="";var e=a.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),f=c;c.match(/^\w+$/)||Blockly.isNumber(c)||(f=a.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),b+="var "+f+" = "+c+";\n");return b+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};a.controls_whileUntil=function(b){var c="UNTIL"==b.getFieldValue("MODE"),d=a.valueToCode(b,"BOOL",c?a.ORDER_LOGICAL_NOT:a.ORDER_NONE)||"false",e=a.statementToCode(b,"DO");a.INFINITE_LOOP_TRAP&&
(e=a.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b.id+"'")+e);c&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};a.controls_for=function(b){var c=a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),d=a.valueToCode(b,"FROM",a.ORDER_ASSIGNMENT)||"0",e=a.valueToCode(b,"TO",a.ORDER_ASSIGNMENT)||"0",f=a.valueToCode(b,"BY",a.ORDER_ASSIGNMENT)||"1",g=a.statementToCode(b,"DO");a.INFINITE_LOOP_TRAP&&(g=a.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b.id+"'")+g);if(Blockly.isNumber(d)&&Blockly.isNumber(e)&&
Blockly.isNumber(f)){var h=parseFloat(d)<=parseFloat(e);b="for ("+c+" = "+d+"; "+c+(h?" <= ":" >= ")+e+"; "+c;c=Math.abs(parseFloat(f));b=(1==c?b+(h?"++":"--"):b+((h?" += ":" -= ")+c))+(") {\n"+g+"}\n")}else b="",h=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(h=a.variableDB_.getDistinctName(c+"_start",Blockly.Variables.NAME_TYPE),b+="var "+h+" = "+d+";\n"),d=e,e.match(/^\w+$/)||Blockly.isNumber(e)||(d=a.variableDB_.getDistinctName(c+"_end",Blockly.Variables.NAME_TYPE),b+="var "+d+" = "+e+";\n"),e=a.variableDB_.getDistinctName(c+
"_inc",Blockly.Variables.NAME_TYPE),b+="var "+e+" = ",b=Blockly.isNumber(f)?b+(Math.abs(f)+";\n"):b+("Math.abs("+f+");\n"),b+="if ("+h+" > "+d+") {\n",b+=a.INDENT+e+" = -"+e+";\n",b+="}\n",b+="for ("+c+" = "+h+";\n     "+e+" >= 0 ? "+c+" <= "+d+" : "+c+" >= "+d+";\n     "+c+" += "+e+") {\n"+g+"}\n";return b};a.controls_forEach=function(b){var c=a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),d=a.valueToCode(b,"LIST",a.ORDER_ASSIGNMENT)||"[]",e=a.statementToCode(b,"DO");a.INFINITE_LOOP_TRAP&&
(e=a.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b.id+"'")+e);b=a.variableDB_.getDistinctName(c+"_index",Blockly.Variables.NAME_TYPE);e=a.INDENT+c+" = "+d+"["+b+"];\n"+e;return"for (var "+b+" in  "+d+") {\n"+e+"}\n"};a.controls_flow_statements=function(a){switch(a.getFieldValue("FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw"Unknown flow statement.";}}setup_loops(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.math={};
function setup_math(a){a.setup_math=setup_math;a.math_number=function(b){return[parseFloat(b.getFieldValue("NUM")),a.ORDER_ATOMIC]};a.math_arithmetic=function(b){var c={ADD:[" + ",a.ORDER_ADDITION],MINUS:[" - ",a.ORDER_SUBTRACTION],MULTIPLY:[" * ",a.ORDER_MULTIPLICATION],DIVIDE:[" / ",a.ORDER_DIVISION],POWER:[null,a.ORDER_COMMA]}[b.getFieldValue("OP")],d=c[0],c=c[1],e=a.valueToCode(b,"A",c)||"0";b=a.valueToCode(b,"B",c)||"0";return d?[e+d+b,c]:["Mathff.pow("+e+", "+b+")",a.ORDER_FUNCTION_CALL]};a.math_single=
function(b){var c=b.getFieldValue("OP"),d;if("NEG"==c)return b=a.valueToCode(b,"NUM",a.ORDER_UNARY_NEGATION)||"0","-"==b[0]&&(b=" "+b),["-"+b,a.ORDER_UNARY_NEGATION];b="SIN"==c||"COS"==c||"TAN"==c?a.valueToCode(b,"NUM",a.ORDER_DIVISION)||"0":a.valueToCode(b,"NUM",a.ORDER_NONE)||"0";switch(c){case "ABS":d="Mathf.abs("+b+")";break;case "ROOT":d="Mathf.sqrt("+b+")";break;case "LN":d="Mathf.log("+b+")";break;case "EXP":d="Mathf.exp("+b+")";break;case "POW10":d="Mathf.pow(10,"+b+")";break;case "ROUND":d=
"Mathf.round("+b+")";break;case "ROUNDUP":d="Mathf.ceil("+b+")";break;case "ROUNDDOWN":d="parseInt(Mathf.Floor("+b+"))";break;case "SIN":d="Mathf.sin("+b+" / 180 * Mathf.PI)";break;case "COS":d="Mathf.cos("+b+" / 180 * Mathf.PI)";break;case "TAN":d="Mathf.tan("+b+" / 180 * Mathf.PI)"}if(d)return[d,a.ORDER_FUNCTION_CALL];switch(c){case "LOG10":d="Mathf.log("+b+") / Mathf.log(10)";break;case "ASIN":d="Mathf.asin("+b+") / Mathf.PI * 180";break;case "ACOS":d="Mathf.acos("+b+") / Mathf.PI * 180";break;
case "ATAN":d="Mathf.atan("+b+") / Mathf.PI * 180";break;default:throw"Unknown math operator: "+c;}return[d,a.ORDER_DIVISION]};a.math_constant=function(b){return{PI:["Mathf.PI",a.ORDER_MEMBER],E:["Mathf.E",a.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Mathf.sqrt(5)) / 2",a.ORDER_DIVISION],SQRT2:["Mathf.SQRT2",a.ORDER_MEMBER],SQRT1_2:["Mathf.SQRT1_2",a.ORDER_MEMBER],INFINITY:["Infinity",a.ORDER_ATOMIC]}[b.getFieldValue("CONSTANT")]};a.math_number_property=function(b){var c=a.valueToCode(b,"NUMBER_TO_CHECK",
a.ORDER_MODULUS)||"0",d=b.getFieldValue("PROPERTY"),e;if("PRIME"==d)return e=a.provideFunction_("math_isPrime",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Mathf.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")",[e,a.ORDER_FUNCTION_CALL];switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":b=a.valueToCode(b,"DIVISOR",a.ORDER_MODULUS)||"0",e=c+" % "+b+" == 0"}return[e,a.ORDER_EQUALITY]};a.math_change=
function(b){var c=a.valueToCode(b,"DELTA",a.ORDER_ADDITION)||"0";b=a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return b+" = (typeof "+b+" == 'number' ? "+b+" : 0) + "+c+";\n"};a.math_round=a.math_single;a.math_trig=a.math_single;a.math_on_list=function(b){var c=b.getFieldValue("OP");switch(c){case "SUM":b=a.valueToCode(b,"LIST",a.ORDER_MEMBER)||"[]";b+=".reduce(function(x, y) {return x + y;})";break;case "MIN":b=a.valueToCode(b,"LIST",a.ORDER_COMMA)||"[]";b="Mathf.min.apply(null, "+
b+")";break;case "MAX":b=a.valueToCode(b,"LIST",a.ORDER_COMMA)||"[]";b="Mathf.max.apply(null, "+b+")";break;case "AVERAGE":c=a.provideFunction_("math_mean",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);b=a.valueToCode(b,"LIST",a.ORDER_NONE)||"[]";b=c+"("+b+")";break;case "MEDIAN":c=a.provideFunction_("math_median",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});",
"  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);b=a.valueToCode(b,"LIST",a.ORDER_NONE)||"[]";b=c+"("+b+")";break;case "MODE":c=a.provideFunction_("math_modes",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];",
"  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Mathf.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {",
"    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);b=a.valueToCode(b,"LIST",a.ORDER_NONE)||"[]";b=c+"("+b+")";break;case "STD_DEV":c=a.provideFunction_("math_standard_deviation",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Mathf.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Mathf.sqrt(variance);","}"]);b=a.valueToCode(b,"LIST",a.ORDER_NONE)||"[]";b=c+"("+b+")";break;case "RANDOM":c=a.provideFunction_("math_random_list",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = parseInt(Mathf.Floor(Random.value * list.length));","  return list[x];","}"]);b=a.valueToCode(b,"LIST",a.ORDER_NONE)||"[]";b=c+"("+b+")";break;default:throw"Unknown operator: "+c;}return[b,a.ORDER_FUNCTION_CALL]};a.math_modulo=function(b){var c=
a.valueToCode(b,"DIVIDEND",a.ORDER_MODULUS)||"0";b=a.valueToCode(b,"DIVISOR",a.ORDER_MODULUS)||"0";return[c+" % "+b,a.ORDER_MODULUS]};a.math_constrain=function(b){var c=a.valueToCode(b,"VALUE",a.ORDER_COMMA)||"0",d=a.valueToCode(b,"LOW",a.ORDER_COMMA)||"0";b=a.valueToCode(b,"HIGH",a.ORDER_COMMA)||"Infinity";return["Mathf.min(Mathf.max("+c+", "+d+"), "+b+")",a.ORDER_FUNCTION_CALL]};a.math_random_int=function(b){var c=a.valueToCode(b,"FROM",a.ORDER_COMMA)||"0";b=a.valueToCode(b,"TO",a.ORDER_COMMA)||
"0";return[a.provideFunction_("math_random_int",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return parseInt(Mathf.Floor(Random.value * (b - a + 1) + a));","}"])+"("+c+", "+b+")",a.ORDER_FUNCTION_CALL]};a.math_random_float=function(b){return["Random.value",a.ORDER_FUNCTION_CALL]}}setup_math(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.procedures={};
function setup_procedures(a){a.setup_procedures=setup_procedures;a.procedures_defreturn=function(b){var c=a.variableDB_.getName(b.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),d=a.statementToCode(b,"STACK");a.INFINITE_LOOP_TRAP&&(d=a.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b.id+"'")+d);var e=a.valueToCode(b,"RETURN",a.ORDER_NONE)||"";e&&(e="  return "+e+";\n");for(var f=[],g=0;g<b.arguments_.length;g++)f[g]=a.variableDB_.getName(b.arguments_[g],Blockly.Variables.NAME_TYPE);d="function "+c+"("+
f.join(", ")+") {\n"+d+e+"}";d=a.scrub_(b,d);a.definitions_[c]=d;return null};a.procedures_defnoreturn=a.procedures_defreturn;a.procedures_callreturn=function(b){for(var c=a.variableDB_.getName(b.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),d=[],e=0;e<b.arguments_.length;e++)d[e]=a.valueToCode(b,"ARG"+e,a.ORDER_COMMA)||"null";return[c+"("+d.join(", ")+")",a.ORDER_FUNCTION_CALL]};a.procedures_callnoreturn=function(b){for(var c=a.variableDB_.getName(b.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),
d=[],e=0;e<b.arguments_.length;e++)d[e]=a.valueToCode(b,"ARG"+e,a.ORDER_COMMA)||"null";return c+"("+d.join(", ")+");\n"};a.procedures_ifreturn=function(b){var c="if ("+(a.valueToCode(b,"CONDITION",a.ORDER_NONE)||"false")+") {\n";b.hasReturnValue_?(b=a.valueToCode(b,"VALUE",a.ORDER_NONE)||"null",c+="  return "+b+";\n"):c+="  return;\n";return c+"}\n"}}setup_procedures(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.text={};
function setup_text(a){a.setup_text=setup_text;a.text=function(b){return[a.quote_(b.getFieldValue("TEXT")),a.ORDER_ATOMIC]};a.text_join=function(b){var c;if(0==b.itemCount_)return["''",a.ORDER_ATOMIC];if(1==b.itemCount_)return c=a.valueToCode(b,"ADD0",a.ORDER_NONE)||"''",[c+".ToString()",a.ORDER_FUNCTION_CALL];if(2==b.itemCount_)return c=a.valueToCode(b,"ADD0",a.ORDER_NONE)||"''",b=a.valueToCode(b,"ADD1",a.ORDER_NONE)||"''",[c+".ToString() + "+b+".ToString()",a.ORDER_ADDITION];c=Array(b.itemCount_);
for(var d=0;d<b.itemCount_;d++)c[d]=a.valueToCode(b,"ADD"+d,a.ORDER_COMMA)||"''";c=c.join("+");return[c,a.ORDER_FUNCTION_CALL]};a.text_append=function(b){var c=a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);b=a.valueToCode(b,"TEXT",a.ORDER_NONE)||"''";return c+" = String("+c+") + String("+b+");\n"};a.text_length=function(b){return[(a.valueToCode(b,"VALUE",a.ORDER_FUNCTION_CALL)||"''")+".length",a.ORDER_MEMBER]};a.text_isEmpty=function(b){return["!"+(a.valueToCode(b,"VALUE",
a.ORDER_MEMBER)||"''"),a.ORDER_LOGICAL_NOT]};a.text_indexOf=function(b){var c="FIRST"==b.getFieldValue("END")?"indexOf":"lastIndexOf",d=a.valueToCode(b,"FIND",a.ORDER_NONE)||"''";return[(a.valueToCode(b,"VALUE",a.ORDER_MEMBER)||"''")+"."+c+"("+d+") + 1",a.ORDER_MEMBER]};a.text_charAt=function(b){var c=b.getFieldValue("WHERE")||"FROM_START",d=a.valueToCode(b,"AT",a.ORDER_UNARY_NEGATION)||"1";b=a.valueToCode(b,"VALUE",a.ORDER_MEMBER)||"''";switch(c){case "FIRST":return[b+".charAt(0)",a.ORDER_FUNCTION_CALL];
case "LAST":return[b+".slice(-1)",a.ORDER_FUNCTION_CALL];case "FROM_START":return d=Blockly.isNumber(d)?parseFloat(d)-1:d+" - 1",[b+".charAt("+d+")",a.ORDER_FUNCTION_CALL];case "FROM_END":return[b+".slice(-"+d+").charAt(0)",a.ORDER_FUNCTION_CALL];case "RANDOM":return c=a.provideFunction_("text_random_letter",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = parseInt(Math.Floor(Random.value * text.length));","  return text[x];","}"])+"("+b+")",[c,a.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt).";
};a.text_getSubstring=function(b){var c=a.valueToCode(b,"STRING",a.ORDER_MEMBER)||"''",d=b.getFieldValue("WHERE1"),e=b.getFieldValue("WHERE2"),f=a.valueToCode(b,"AT1",a.ORDER_NONE)||"1";b=a.valueToCode(b,"AT2",a.ORDER_NONE)||"1";return["FIRST"==d&&"LAST"==e?c:a.provideFunction_("text_get_substring",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(text, where1, at1, where2, at2) {","  function getAt(where, at) {","    if (where == 'FROM_START') {","      at--;","    } else if (where == 'FROM_END') {","      at = text.length - at;",
"    } else if (where == 'FIRST') {","      at = 0;","    } else if (where == 'LAST') {","      at = text.length - 1;","    } else {","      throw 'Unhandled option (text_getSubstring).';","    }","    return at;","  }","  at1 = getAt(where1, at1);","  at2 = getAt(where2, at2) + 1;","  return text.slice(at1, at2);","}"])+"("+c+", '"+d+"', "+f+", '"+e+"', "+b+")",a.ORDER_FUNCTION_CALL]};a.text_changeCase=function(b){var c={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[b.getFieldValue("CASE")];
c?(b=a.valueToCode(b,"TEXT",a.ORDER_MEMBER)||"''",b+=c):(c=a.provideFunction_("text_toTitleCase",["function "+a.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"]),b=a.valueToCode(b,"TEXT",a.ORDER_NONE)||"''",b=c+"("+b+")");return[b,a.ORDER_FUNCTION_CALL]};a.text_trim=function(b){var c={LEFT:".trimLeft()",RIGHT:".trimRight()",BOTH:".trim()"}[b.getFieldValue("MODE")];return[(a.valueToCode(b,
"TEXT",a.ORDER_MEMBER)||"''")+c,a.ORDER_FUNCTION_CALL]};a.text_print=function(b){return"window.alert("+(a.valueToCode(b,"TEXT",a.ORDER_NONE)||"''")+");\n"};a.text_prompt=function(b){var c="window.prompt("+a.quote_(b.getFieldValue("TEXT"))+")";"NUMBER"==b.getFieldValue("TYPE")&&(c="parseFloat("+c+")");return[c,a.ORDER_FUNCTION_CALL]}}setup_text(Blockly.UnityScript);
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.UnityScript.variables={};function setup_variables(a){a.setup_variables=setup_variables;a.variables_get=function(b){return[a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),a.ORDER_ATOMIC]};a.variables_set=function(b){var c=a.valueToCode(b,"VALUE",a.ORDER_ASSIGNMENT)||"0";return a.variableDB_.getName(b.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+c+";\n"}}setup_variables(Blockly.UnityScript);